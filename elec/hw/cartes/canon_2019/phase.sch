EESchema Schematic File Version 4
LIBS:canon_2019-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 4 6
Title "Canon"
Date ""
Rev "2019"
Comp "Cocobot"
Comment1 "Version originale: Brushless SSLv2 - R. Deni√©port"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 1550 2300 1    50   Input ~ 0
Vdrv
$Comp
L Driver_FET:IR2104 U5
U 1 1 5C9127BD
P 2750 3250
AR Path="/5C862FD1/5C9125DE/5C9127BD" Ref="U5"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C9127BD" Ref="U7"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C9127BD" Ref="U9"  Part="1" 
F 0 "U9" H 2750 3700 50  0000 C CNN
F 1 "IR2104" H 2750 2800 50  0000 C CNN
F 2 "espitall:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 2750 2800 50  0001 C CIN
F 3 "https://www.infineon.com/dgdl/ir2104.pdf?fileId=5546d462533600a4015355c7c1c31671" H 2550 2700 50  0001 C CNN
	1    2750 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 2300 1550 2550
$Comp
L Device:C C17
U 1 1 5C9128DF
P 1550 3300
AR Path="/5C862FD1/5C9125DE/5C9128DF" Ref="C17"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C9128DF" Ref="C20"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C9128DF" Ref="C23"  Part="1" 
F 0 "C23" H 1665 3346 50  0000 L CNN
F 1 "100n" H 1665 3255 50  0000 L CNN
F 2 "espitall:C_0603" H 1588 3150 50  0001 C CNN
F 3 "~" H 1550 3300 50  0001 C CNN
	1    1550 3300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0138
U 1 1 5C912972
P 1550 3900
AR Path="/5C862FD1/5C9125DE/5C912972" Ref="#PWR0138"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C912972" Ref="#PWR0144"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C912972" Ref="#PWR0150"  Part="1" 
F 0 "#PWR0150" H 1550 3650 50  0001 C CNN
F 1 "GND" H 1555 3727 50  0000 C CNN
F 2 "" H 1550 3900 50  0001 C CNN
F 3 "" H 1550 3900 50  0001 C CNN
	1    1550 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 3900 1550 3450
Text HLabel 2300 3350 0    50   Input ~ 0
PWM_3v3
Wire Wire Line
	2300 3350 2450 3350
Text HLabel 2300 3450 0    50   Input ~ 0
EN_3v3
Wire Wire Line
	2300 3450 2450 3450
$Comp
L power:GND #PWR0139
U 1 1 5C912A09
P 2250 3900
AR Path="/5C862FD1/5C9125DE/5C912A09" Ref="#PWR0139"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C912A09" Ref="#PWR0145"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C912A09" Ref="#PWR0151"  Part="1" 
F 0 "#PWR0151" H 2250 3650 50  0001 C CNN
F 1 "GND" H 2255 3727 50  0000 C CNN
F 2 "" H 2250 3900 50  0001 C CNN
F 3 "" H 2250 3900 50  0001 C CNN
	1    2250 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 3900 2250 3550
Wire Wire Line
	2250 3550 2450 3550
$Comp
L Device:D_Schottky D4
U 1 1 5C912B76
P 2750 2550
AR Path="/5C862FD1/5C9125DE/5C912B76" Ref="D4"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C912B76" Ref="D7"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C912B76" Ref="D10"  Part="1" 
F 0 "D10" H 2750 2334 50  0000 C CNN
F 1 "BAS-40-02V-V-G-08" H 2750 2425 50  0000 C CNN
F 2 "Diodes_SMD:D_SOD-523" H 2750 2550 50  0001 C CNN
F 3 "~" H 2750 2550 50  0001 C CNN
	1    2750 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	2600 2550 2300 2550
Connection ~ 1550 2550
Wire Wire Line
	1550 2550 1550 3150
Wire Wire Line
	2450 2950 2300 2950
Wire Wire Line
	2300 2950 2300 2550
Connection ~ 2300 2550
Wire Wire Line
	2300 2550 1550 2550
Wire Wire Line
	3050 2950 3200 2950
Wire Wire Line
	3200 2950 3200 2550
Wire Wire Line
	3200 2550 2900 2550
$Comp
L Device:C C16
U 1 1 5C913005
P 3550 3000
AR Path="/5C862FD1/5C9125DE/5C913005" Ref="C16"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C913005" Ref="C19"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C913005" Ref="C22"  Part="1" 
F 0 "C22" H 3665 3046 50  0000 L CNN
F 1 "100n" H 3665 2955 50  0000 L CNN
F 2 "espitall:C_0603" H 3588 2850 50  0001 C CNN
F 3 "~" H 3550 3000 50  0001 C CNN
	1    3550 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 2550 3550 2550
Wire Wire Line
	3550 2550 3550 2850
Connection ~ 3200 2550
Wire Wire Line
	3550 3150 3550 3450
Wire Wire Line
	3550 3450 3050 3450
$Comp
L espitall:Q_NMOS_LFPAK Q3
U 1 1 5C91937D
P 5750 2700
AR Path="/5C862FD1/5C9125DE/5C91937D" Ref="Q3"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C91937D" Ref="Q5"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C91937D" Ref="Q7"  Part="1" 
F 0 "Q7" H 6137 2746 50  0000 L CNN
F 1 "Q_NMOS_LFPAK" H 6137 2655 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-669_LFPAK" H 5950 2800 50  0001 C CNN
F 3 "~" H 5750 2700 50  0001 C CNN
	1    5750 2700
	1    0    0    -1  
$EndComp
$Comp
L espitall:Q_NMOS_LFPAK Q4
U 1 1 5C9193DD
P 5750 3550
AR Path="/5C862FD1/5C9125DE/5C9193DD" Ref="Q4"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C9193DD" Ref="Q6"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C9193DD" Ref="Q8"  Part="1" 
F 0 "Q8" H 6137 3596 50  0000 L CNN
F 1 "Q_NMOS_LFPAK" H 6137 3505 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-669_LFPAK" H 5950 3650 50  0001 C CNN
F 3 "~" H 5750 3550 50  0001 C CNN
	1    5750 3550
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0140
U 1 1 5C919405
P 5850 3900
AR Path="/5C862FD1/5C9125DE/5C919405" Ref="#PWR0140"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C919405" Ref="#PWR0146"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C919405" Ref="#PWR0152"  Part="1" 
F 0 "#PWR0152" H 5850 3650 50  0001 C CNN
F 1 "GND" H 5855 3727 50  0000 C CNN
F 2 "" H 5850 3900 50  0001 C CNN
F 3 "" H 5850 3900 50  0001 C CNN
	1    5850 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	5850 3900 5850 3850
Wire Wire Line
	5850 3850 5950 3850
Wire Wire Line
	5950 3850 5950 3750
Connection ~ 5850 3850
Wire Wire Line
	5850 3850 5850 3750
Wire Wire Line
	5950 3850 6050 3850
Wire Wire Line
	6050 3850 6050 3750
Connection ~ 5950 3850
$Comp
L Device:D_Schottky D6
U 1 1 5C91996F
P 5200 3550
AR Path="/5C862FD1/5C9125DE/5C91996F" Ref="D6"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C91996F" Ref="D9"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C91996F" Ref="D12"  Part="1" 
F 0 "D12" H 5200 3700 50  0000 C CNN
F 1 "BAS-40-02V-V-G-08" H 5200 3450 50  0000 C CNN
F 2 "Diodes_SMD:D_SOD-523" H 5200 3550 50  0001 C CNN
F 3 "~" H 5200 3550 50  0001 C CNN
	1    5200 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5550 3550 5450 3550
Wire Wire Line
	5050 3550 4900 3550
$Comp
L Device:R R15
U 1 1 5C91A3D1
P 5200 3300
AR Path="/5C862FD1/5C9125DE/5C91A3D1" Ref="R15"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C91A3D1" Ref="R19"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C91A3D1" Ref="R23"  Part="1" 
F 0 "R23" V 4993 3300 50  0000 C CNN
F 1 "47" V 5084 3300 50  0000 C CNN
F 2 "espitall:R_0603" V 5130 3300 50  0001 C CNN
F 3 "~" H 5200 3300 50  0001 C CNN
	1    5200 3300
	0    1    1    0   
$EndComp
Wire Wire Line
	5050 3300 4900 3300
Wire Wire Line
	4900 3300 4900 3550
Connection ~ 4900 3550
Wire Wire Line
	4900 3550 3050 3550
Wire Wire Line
	5350 3300 5450 3300
Wire Wire Line
	5450 3300 5450 3550
Connection ~ 5450 3550
Wire Wire Line
	5450 3550 5350 3550
$Comp
L Device:D_Schottky D5
U 1 1 5C91AD51
P 5200 2700
AR Path="/5C862FD1/5C9125DE/5C91AD51" Ref="D5"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C91AD51" Ref="D8"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C91AD51" Ref="D11"  Part="1" 
F 0 "D11" H 5200 2850 50  0000 C CNN
F 1 "BAS-40-02V-V-G-08" H 5200 2600 50  0000 C CNN
F 2 "Diodes_SMD:D_SOD-523" H 5200 2700 50  0001 C CNN
F 3 "~" H 5200 2700 50  0001 C CNN
	1    5200 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5550 2700 5450 2700
Wire Wire Line
	5050 2700 4900 2700
$Comp
L Device:R R12
U 1 1 5C91AD59
P 5200 2450
AR Path="/5C862FD1/5C9125DE/5C91AD59" Ref="R12"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C91AD59" Ref="R16"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C91AD59" Ref="R20"  Part="1" 
F 0 "R20" V 4993 2450 50  0000 C CNN
F 1 "47" V 5084 2450 50  0000 C CNN
F 2 "espitall:R_0603" V 5130 2450 50  0001 C CNN
F 3 "~" H 5200 2450 50  0001 C CNN
	1    5200 2450
	0    1    1    0   
$EndComp
Wire Wire Line
	5050 2450 4900 2450
Wire Wire Line
	4900 2450 4900 2700
Wire Wire Line
	5350 2450 5450 2450
Wire Wire Line
	5450 2450 5450 2700
Connection ~ 5450 2700
Wire Wire Line
	5450 2700 5350 2700
Wire Wire Line
	3050 3350 4600 3350
Wire Wire Line
	4600 3350 4600 2700
Wire Wire Line
	4600 2700 4900 2700
Connection ~ 4900 2700
Wire Wire Line
	3550 3450 4750 3450
Wire Wire Line
	4750 3450 4750 3050
Wire Wire Line
	4750 3050 5850 3050
Connection ~ 3550 3450
Wire Wire Line
	5850 2900 5850 2950
Connection ~ 5850 3050
Wire Wire Line
	5850 3050 5850 3150
Wire Wire Line
	5950 2900 5950 2950
Wire Wire Line
	5950 2950 5850 2950
Connection ~ 5850 2950
Wire Wire Line
	5850 2950 5850 3050
Wire Wire Line
	5950 2950 6050 2950
Wire Wire Line
	6050 2950 6050 2900
Connection ~ 5950 2950
Wire Wire Line
	5850 2500 5850 1900
Text HLabel 5850 1900 1    50   Input ~ 0
Vpwr
$Comp
L Device:R R13
U 1 1 5C870FDA
P 7400 3050
AR Path="/5C862FD1/5C9125DE/5C870FDA" Ref="R13"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C870FDA" Ref="R17"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C870FDA" Ref="R21"  Part="1" 
F 0 "R21" V 7193 3050 50  0000 C CNN
F 1 "5m" V 7284 3050 50  0000 C CNN
F 2 "Resistors_SMD:R_1206" V 7330 3050 50  0001 C CNN
F 3 "~" H 7400 3050 50  0001 C CNN
	1    7400 3050
	0    1    1    0   
$EndComp
$Comp
L Device:R R14
U 1 1 5C8710A8
P 7400 3250
AR Path="/5C862FD1/5C9125DE/5C8710A8" Ref="R14"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C8710A8" Ref="R18"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C8710A8" Ref="R22"  Part="1" 
F 0 "R22" V 7193 3250 50  0000 C CNN
F 1 "5m" V 7284 3250 50  0000 C CNN
F 2 "Resistors_SMD:R_1206" V 7330 3250 50  0001 C CNN
F 3 "~" H 7400 3250 50  0001 C CNN
	1    7400 3250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7250 3050 7150 3050
Wire Wire Line
	7150 3050 7150 3150
Wire Wire Line
	7150 3150 7050 3150
Connection ~ 5850 3150
Wire Wire Line
	5850 3150 5850 3350
Wire Wire Line
	7250 3250 7150 3250
Wire Wire Line
	7150 3250 7150 3150
Connection ~ 7150 3150
Wire Wire Line
	7550 3050 7650 3050
Wire Wire Line
	7650 3050 7650 3150
Wire Wire Line
	7650 3250 7550 3250
Wire Wire Line
	7650 3150 7750 3150
Connection ~ 7650 3150
Wire Wire Line
	7650 3150 7650 3250
Text HLabel 8850 3150 2    50   Output ~ 0
PH
Text HLabel 9550 4800 2    50   Output ~ 0
I_0-3v3
$Comp
L Amplifier_Current:INA240A1PW U6
U 1 1 5C8808FC
P 8650 4800
AR Path="/5C862FD1/5C9125DE/5C8808FC" Ref="U6"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C8808FC" Ref="U8"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C8808FC" Ref="U10"  Part="1" 
F 0 "U10" H 8750 4950 50  0000 L CNN
F 1 "INA240A1PW" H 8800 4700 50  0000 L CNN
F 2 "Housings_SSOP:TSSOP-8_4.4x3mm_Pitch0.65mm" H 8650 4150 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/ina240.pdf" H 8800 4950 50  0001 C CNN
	1    8650 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 4700 7050 4700
Wire Wire Line
	7050 4700 7050 3150
Connection ~ 7050 3150
Wire Wire Line
	7050 3150 5850 3150
Wire Wire Line
	7750 3150 7750 4900
Wire Wire Line
	7750 4900 8350 4900
Connection ~ 7750 3150
Wire Wire Line
	7750 3150 8850 3150
$Comp
L power:+3V3 #PWR0141
U 1 1 5C884A12
P 8550 4300
AR Path="/5C862FD1/5C9125DE/5C884A12" Ref="#PWR0141"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C884A12" Ref="#PWR0147"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C884A12" Ref="#PWR0153"  Part="1" 
F 0 "#PWR0153" H 8550 4150 50  0001 C CNN
F 1 "+3V3" H 8565 4473 50  0000 C CNN
F 2 "" H 8550 4300 50  0001 C CNN
F 3 "" H 8550 4300 50  0001 C CNN
	1    8550 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 4300 8550 4350
$Comp
L power:GND #PWR0142
U 1 1 5C887D53
P 9250 4450
AR Path="/5C862FD1/5C9125DE/5C887D53" Ref="#PWR0142"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C887D53" Ref="#PWR0148"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C887D53" Ref="#PWR0154"  Part="1" 
F 0 "#PWR0154" H 9250 4200 50  0001 C CNN
F 1 "GND" H 9255 4277 50  0000 C CNN
F 2 "" H 9250 4450 50  0001 C CNN
F 3 "" H 9250 4450 50  0001 C CNN
	1    9250 4450
	1    0    0    -1  
$EndComp
$Comp
L Device:C C18
U 1 1 5C887DC7
P 8900 4350
AR Path="/5C862FD1/5C9125DE/5C887DC7" Ref="C18"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C887DC7" Ref="C21"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C887DC7" Ref="C24"  Part="1" 
F 0 "C24" H 9015 4396 50  0000 L CNN
F 1 "100n" H 9015 4305 50  0000 L CNN
F 2 "espitall:C_0603" H 8938 4200 50  0001 C CNN
F 3 "~" H 8900 4350 50  0001 C CNN
	1    8900 4350
	0    1    1    0   
$EndComp
Wire Wire Line
	9250 4450 9250 4350
Wire Wire Line
	9250 4350 9050 4350
Wire Wire Line
	8750 4350 8550 4350
Connection ~ 8550 4350
Wire Wire Line
	8550 4350 8550 4500
$Comp
L power:GND #PWR0143
U 1 1 5C88A468
P 8550 5600
AR Path="/5C862FD1/5C9125DE/5C88A468" Ref="#PWR0143"  Part="1" 
AR Path="/5C862FD1/5C89589D/5C88A468" Ref="#PWR0149"  Part="1" 
AR Path="/5C862FD1/5C895A12/5C88A468" Ref="#PWR0155"  Part="1" 
F 0 "#PWR0155" H 8550 5350 50  0001 C CNN
F 1 "GND" H 8555 5427 50  0000 C CNN
F 2 "" H 8550 5600 50  0001 C CNN
F 3 "" H 8550 5600 50  0001 C CNN
	1    8550 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 5600 8550 5100
Wire Wire Line
	8650 5100 8650 5200
Wire Wire Line
	8650 5350 9500 5350
Wire Wire Line
	8750 5100 8750 5200
Wire Wire Line
	8750 5200 8650 5200
Connection ~ 8650 5200
Wire Wire Line
	8650 5200 8650 5350
Text HLabel 9500 5350 2    50   Input ~ 0
REF_1v65
Wire Wire Line
	8950 4800 9550 4800
Wire Notes Line
	4000 1400 4000 4300
Wire Notes Line
	4000 4300 1250 4300
Wire Notes Line
	1250 4300 1250 1400
Wire Notes Line
	1250 1400 4000 1400
Wire Notes Line
	4150 1400 4150 4300
Wire Notes Line
	4150 4300 6800 4300
Wire Notes Line
	6800 4300 6800 1400
Wire Notes Line
	6800 1400 4150 1400
Wire Notes Line
	6950 1400 6950 5900
Wire Notes Line
	6950 5900 10100 5900
Wire Notes Line
	10100 5900 10100 3700
Wire Notes Line
	10100 3700 8100 3700
Wire Notes Line
	8100 3700 8100 1400
Wire Notes Line
	8100 1400 6950 1400
Text Notes 1300 1500 0    50   ~ 0
Driver\n
Text Notes 4200 1500 0    50   ~ 0
Half bridge
Text Notes 7000 1500 0    50   ~ 0
Current monitor
$EndSCHEMATC
