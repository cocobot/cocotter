graph robot_architecture{
fontname="Helvetica,Arial,sans-serif"
node [fontname="Helvetica,Arial,sans-serif"]
edge [fontname="Helvetica,Arial,sans-serif"]
layout=neato
compound=true;
uc [shape = box, width = 2, height = 5, label = "Microcontroller"];
subgraph sensors{

gyro [shape = box,width = 1.5, label = "inertial sensor\n(6 axis)"];
line [shape = box,width = 1, label = "line sensor"];
front_contact [shape = box,width = 1, label = "front contact switch"];
back_contact [shape = box,width = 1, label = "back contact switch"];
}

subgraph propulsion{
	motor [shape = box,width = 1, label = "dc motor"];
	encoder [shape = box,width = 1, label = "encoder"];
}

side_telemeter [shape = box,width = 1, label = "side tof sensor"];
led [shape = box,width = 1, label = "hmi led"];
bat_mon [shape = box,width = 1, label = "battery monitoring"];
ana_servo[shape = box,width = 1, label = "analog servo"];
prog_itf[shape = box,width = 1, label = "programming interface"];
display[shape = box,width = 1, label = "oled display"];
dir_sw[shape = box,width = 1, label = "directionnal switch"];
start_cord[shape = box,width = 1, label = "starting cord"];
emergency_stop[shape = box,width = 1, label = "emergency switch"];
dip_sw[shape = box,width = 1, label = "configuration switch"];
front_tof[shape = box,width = 1, label = "front multizone (8x8) tof sensor"];
back_tof[shape = box,width = 1, label = "back multizone (8x8) tof sensor"];


uc -- {led, gyro, front_tof, back_tof, prog_itf, bat_mon, dir_sw, display, emergency_stop, start_cord};
uc -- motor [label = "2"];
uc -- encoder [label = "2"];
uc -- side_telemeter [label = "2"];
uc -- front_contact [label = "1"];
uc -- back_contact [label = "1"];
uc -- line [label = "8"];
uc -- ana_servo [label = "4"];
uc -- dip_sw [label = "4"];


overlap=false
/*label="PetriNet Model PhiloDilemma\nExtracted from ConceptBase and layed out by Graphviz "*/
fontsize=12;
}
